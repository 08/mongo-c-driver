\hypertarget{mongo__except_8h}{
\section{mongo\_\-except.h File Reference}
\label{mongo__except_8h}\index{mongo_except.h@{mongo\_\-except.h}}
}
{\tt \#include $<$setjmp.h$>$}\par
\subsection*{Classes}
\begin{CompactItemize}
\item 
struct \textbf{mongo\_\-exception\_\-context}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\hypertarget{mongo__except_8h_c925c783d59e6c542159641141e5e3a8}{
\#define \textbf{MONGO\_\-TRY}~MONGO\_\-TRY\_\-GENERIC(conn)}
\label{mongo__except_8h_c925c783d59e6c542159641141e5e3a8}

\item 
\hypertarget{mongo__except_8h_683053929db2c4963ac25f639250333b}{
\#define \textbf{MONGO\_\-CATCH}~MONGO\_\-CATCH\_\-GENERIC(conn)}
\label{mongo__except_8h_683053929db2c4963ac25f639250333b}

\item 
\hypertarget{mongo__except_8h_dcec5585623539235e7f3632d612aedd}{
\#define \textbf{MONGO\_\-THROW}(e)~MONGO\_\-THROW\_\-GENERIC(conn, e)}
\label{mongo__except_8h_dcec5585623539235e7f3632d612aedd}

\item 
\hypertarget{mongo__except_8h_b4a5aa101b5bdf58e2160aa2f8d493b9}{
\#define \textbf{MONGO\_\-RETHROW}()~MONGO\_\-RETHROW\_\-GENERIC(conn)}
\label{mongo__except_8h_b4a5aa101b5bdf58e2160aa2f8d493b9}

\item 
\#define \textbf{MONGO\_\-INIT\_\-EXCEPTION}(exception\_\-ptr)
\item 
\#define \textbf{MONGO\_\-TRY\_\-GENERIC}(connection)
\item 
\#define \textbf{MONGO\_\-CATCH\_\-GENERIC}(connection)
\item 
\#define \textbf{MONGO\_\-THROW\_\-GENERIC}(connection, type\_\-in)
\item 
\hypertarget{mongo__except_8h_1b12c06108b88f68d8391d32540c661e}{
\#define \textbf{MONGO\_\-RETHROW\_\-GENERIC}(connection)~MONGO\_\-THROW\_\-GENERIC(connection, (connection) $\rightarrow$ exception.type)}
\label{mongo__except_8h_1b12c06108b88f68d8391d32540c661e}

\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum \textbf{mongo\_\-exception\_\-type} \{ \textbf{MONGO\_\-EXCEPT\_\-NETWORK} = 1, 
\textbf{MONGO\_\-EXCEPT\_\-FIND\_\-ERR}
 \}
\end{CompactItemize}


\subsection{Detailed Description}


\subsection{Define Documentation}
\hypertarget{mongo__except_8h_a799e4de783fff9c2da57a9cf25ed1ea}{
\index{mongo_except.h@{mongo\_\-except.h}!MONGO_CATCH_GENERIC@{MONGO\_\-CATCH\_\-GENERIC}}
\index{MONGO_CATCH_GENERIC@{MONGO\_\-CATCH\_\-GENERIC}!mongo_except.h@{mongo\_\-except.h}}
\subsubsection[MONGO\_\-CATCH\_\-GENERIC]{\setlength{\rightskip}{0pt plus 5cm}\#define MONGO\_\-CATCH\_\-GENERIC(connection)}}
\label{mongo__except_8h_a799e4de783fff9c2da57a9cf25ed1ea}


\textbf{Value:}

\begin{Code}\begin{verbatim}while ((connection)->exception.caught = 0, \
             (connection)->exception.caught); \
    } \
    else { \
      (connection)->exception.caught = 1; \
    } \
    (connection)->exception.penv = exception__prev; \
  } \
  if (!(connection)->exception.caught ) { } \
  else
\end{verbatim}\end{Code}
\hypertarget{mongo__except_8h_c778e52e5e636757e089d34274a01cd7}{
\index{mongo_except.h@{mongo\_\-except.h}!MONGO_INIT_EXCEPTION@{MONGO\_\-INIT\_\-EXCEPTION}}
\index{MONGO_INIT_EXCEPTION@{MONGO\_\-INIT\_\-EXCEPTION}!mongo_except.h@{mongo\_\-except.h}}
\subsubsection[MONGO\_\-INIT\_\-EXCEPTION]{\setlength{\rightskip}{0pt plus 5cm}\#define MONGO\_\-INIT\_\-EXCEPTION(exception\_\-ptr)}}
\label{mongo__except_8h_c778e52e5e636757e089d34274a01cd7}


\textbf{Value:}

\begin{Code}\begin{verbatim}do{ \
        mongo_exception_type t; /* exception_ptr won't be available */\
        (exception_ptr)->penv = &(exception_ptr)->base_handler; \
        if ((t = setjmp((exception_ptr)->base_handler))) { /* yes, '=' is correct */ \
            switch(t){ \
                case MONGO_EXCEPT_NETWORK: bson_fatal_msg(0, "network error"); \
                case MONGO_EXCEPT_FIND_ERR: bson_fatal_msg(0, "error in find"); \
                default: bson_fatal_msg(0, "unknown exception"); \
            } \
        } \
    }while(0)
\end{verbatim}\end{Code}
\hypertarget{mongo__except_8h_c0f115308a8ef936827d70e1579efcca}{
\index{mongo_except.h@{mongo\_\-except.h}!MONGO_THROW_GENERIC@{MONGO\_\-THROW\_\-GENERIC}}
\index{MONGO_THROW_GENERIC@{MONGO\_\-THROW\_\-GENERIC}!mongo_except.h@{mongo\_\-except.h}}
\subsubsection[MONGO\_\-THROW\_\-GENERIC]{\setlength{\rightskip}{0pt plus 5cm}\#define MONGO\_\-THROW\_\-GENERIC(connection, type\_\-in)}}
\label{mongo__except_8h_c0f115308a8ef936827d70e1579efcca}


\textbf{Value:}

\begin{Code}\begin{verbatim}for (;; longjmp(*(connection)->exception.penv, type_in)) \
    (connection)->exception.type = type_in
\end{verbatim}\end{Code}
\hypertarget{mongo__except_8h_b198bda692a7bc99e747af471dc26648}{
\index{mongo_except.h@{mongo\_\-except.h}!MONGO_TRY_GENERIC@{MONGO\_\-TRY\_\-GENERIC}}
\index{MONGO_TRY_GENERIC@{MONGO\_\-TRY\_\-GENERIC}!mongo_except.h@{mongo\_\-except.h}}
\subsubsection[MONGO\_\-TRY\_\-GENERIC]{\setlength{\rightskip}{0pt plus 5cm}\#define MONGO\_\-TRY\_\-GENERIC(connection)}}
\label{mongo__except_8h_b198bda692a7bc99e747af471dc26648}


\textbf{Value:}

\begin{Code}\begin{verbatim}{ \
    jmp_buf *exception__prev, exception__env; \
    exception__prev = (connection)->exception.penv; \
    (connection)->exception.penv = &exception__env; \
    if (setjmp(exception__env) == 0) { \
      do
\end{verbatim}\end{Code}
